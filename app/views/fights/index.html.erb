

<h1>Fight History</h1>

<div >
<%= search_form_for @q do |f| %>

  <!--Search if the name field contains...-->
  <%= f.label :blue_corner_cont%>
  <%= f.search_field :blue_corner_or_red_corner_or_date_cont, class: "input-group-text" %>
</div>
 
  
 

<div>
  <%= f.submit "search", class: "btn-primary"%>
<% end %>
</div>
<br/>



<table class="table table-striped table-dark">
  <thead>
  <tr>
    <th scope="col">Blue Corner</th>
    <th scope="col"> </th>
    <th scope="col">Red Corner</th>
    <th scope="col">Date</th>
    <th scope="col">Competition</th>
    <th scope="col">Winner</th>
    <th scope="col"></th>
  <tr>
</thead>
  <tbody>
      <% @fights.each do |fight| %>
       
        <tr>
        
          <% 
           if fight.fighter == current_fighter or (current_fighter.role == 'coach' && current_fighter.club == fight.club) %> 
          <td><%= link_to fight.blue_corner, fight %></td>
          <td>vs</td>
          <td><%= fight.red_corner %></td>
          <td><%= fight.date %></td>
          <td><%= fight.competition %></td>
          <td><%= fight.winner %></td>
          
          
          
          
          
          
          <td><%= link_to 'Delete', fight, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %></td>
          <% end %>
        </tr>
        <% end %>
        
      
    </tbody>
</table>

<%= link_to "New fight", new_fight_path, class:"btn btn-outline-primary"%>